version: "3.8"

services:
  webserver:
    hostname: modularhistory.dev.net
    healthcheck:
        test: ["CMD", "curl", "-f", "http://localhost"]
        interval: 20s
        timeout: 10s
        retries: 5
    volumes:
      - ./config/nginx/dev:/etc/nginx/conf.d

  react:
    environment:
      NEXTAUTH_URL: "http://modularhistory.dev.net"
  
  cypress:
    environment:
      - CYPRESS_baseUrl=http://modularhistory.dev.net:8080
