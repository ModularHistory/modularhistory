[build-system]
requires = ["poetry>=1.0.5"]
build-backend = "poetry.masonry.api"

[tool.black]
line-length = 88
skip-string-normalization = true

[tool.coverage.run]
# https://coverage.readthedocs.io/en/latest/config.html#run
omit = [
    ".venv/",
    ".nox/",
    ".hypothesis/",
]
parallel = true

[tool.coverage.html]
# https://coverage.readthedocs.io/en/latest/config.html#html
directory = ".coverage_html"

[tool.isort]
# https://github.com/timothycrosley/isort/wiki/isort-Settings
atomic = true
#default_section = "FIRSTPARTY"
include_trailing_comma = true
line_length = 88
multi_line_output = 3  # vertical hanging indent
skip_gitignore = true  # ignore files listed in .gitignore
use_parentheses = true

[tool.poetry]
name = "modularhistory"
version = "0.1.0"
description = "ModularHistory (https://www.modularhistory.com/)"
authors = ["Jacob Fredericksen <jacob.t.fredericksen@gmail.com>"]
license = "ISC"
readme = "README.rst"
repository = "https://github.com/ModularHistory/modularhistory"

[tool.poetry.dependencies]
python = "^3.7"
aenum = "^2.2.4"
beautifulsoup4 = "==4.9.3"
channels = "^3.0"
django = "^3.1"
djangorestframework = "^3.12"
django_replicated = "==2.7"
django-admin-autocomplete-filter = "==0.6.1"
django-admin-menu = "==1.3"
django-admin-tools = "==0.9.0"
django-bootstrap-datepicker-plus = "==3.0.5"
django-crispy-forms = "==1.9.2"
django-dbbackup = "==3.3.0"
django-debug-toolbar = "^3.1.1"
django-extra-views = "==0.13.0"
django-filter = "==2.4.0"
django-gm2m = "^1.1"
django-imagekit = "^4.0.2"
django-image-cropping = "^1.5"
django-json-widget = "^1.0"
django-mass-edit = "^3.2"
django-nested-admin = "^3.3"
django-q = "^1.3"
django-reverse-admin = "^2.9"
django-sass-processor = "==0.8.2"
django-select2 = "==7.4.2"
django-settings-export = "==1.2.1"
django-simple-menu = "^1.2"
django-social-share = "^2.1"
# django-spaghetti-and-meatballs = "^0.3.1"
django-storages = {extras = ["google"], version = "^1.10"}
django-tinymce = "^3.1"
django-typed-models = "^0.10.0"
django-webpack-loader = "^0.7.0"
easy-thumbnails = "==2.7"
google-cloud-secret-manager = "==2.0.0"
google-cloud-storage = "^1.32"
google-cloud-tasks = "==2.0.0"
gunicorn = "==20.0.4"
humanize = "^3.0"
inflect = "^4.1.0"
invoke = "^1.4.1"
jsonschema = "^3.2.0"
lxml = "^4.6"
"mega.py" = "==1.0.8"
millify = "==0.1.1"
natural-keys = "==1.6.0"
objgraph = "^3.5.0"
pafy = "==0.5.5"
paramiko = "==2.7.2"
pdfkit = "==0.6.1"
pexpect = "==4.8.0"
Pillow = "^8.0.1"
psycopg2-binary = "==2.8.6"
PyDrive = "==1.3.1"
pympler = "==0.9"
python-dateutil = "==2.8.1"
python-decouple = "==3.3"
requests = "==2.24.0"
scp = "^0.13"
sentry-sdk = "^0.19"
serpy = "^0.3.1"
sigfig = "==1.1.8"
social-auth-app-django = "==4.0.0"
wordcloud = "^1.8.0"
youtube-dl = "^2020.7.28"

[tool.poetry.dev-dependencies]
binaryornot = "^0.4"
coverage = {extras = ["toml"], version = "^5.3"}
darglint = "^1.5.5"
django-pymemcache = "^1.0.0"
django-stubs = ">=1.7"
django-webtest = "^1.9.7"
djangorestframework-stubs = ">=1.3.0"
docker-compose = "^1.26"
docker-image-size-limit = "^0.3"
flake8-bandit = "^2.1.2"
flake8-black = "^0.2.1"
flake8-broken-line = "^0.3"
flake8-bugbear = "^20.1.4"
flake8-commas = "^2.0.0"
flake8-comprehensions = "^3.3.0"
flake8-debugger = "^3.2.1"
flake8-django = "^1.1.1"
flake8-docstrings = "^1.5.0"
flake8-eradicate = "^1.0.0"
flake8-executable = "^2.0.4"
flake8-polyfill = "^1.0.2"
flake8-pytest-style = "^1.3"
flake8-quotes = "^3.2.0"
flake8-rst-docstrings = "^0.0.14"
flake8-spellcheck = "^0.20"
flake8-string-format = "^0.3.0"
hypothesis = {extras = ["django"], version = "^5.39"}
isort = "^5.6.4"
nox = "^2020.8.22"
pep8-naming = "^0.11.1"
pytest = "^6.1"
pytest-django = "^4"
pytest-xdist = "^2.1.0"
safety = "^1.9"
selenium = "^3.141.0"
seleniumbase = "^1.50.4"
tomlkit = "^0.7.0"
unify = "^0.5"
virtualenv-clone = "==0.5.4"
blackfire = "^1.5.1"
pylint = "^2.6.0"

[tool.pytest.ini_options]
minversion = "6.0"
addopts = "-ra --ds='modularhistory.settings' --capture=no --ignore conftest.py -p no:cacheprovider --disable-warnings"
norecursedirs = [
    "*env",
    ".nox",
]
python_files = [
    "tests.py",
    "*_tests.py",
    "test_*.py",
    "*_test.py",
    "*_suite.py",
]
python_classes = [
    "Test*",
    "*Test",
    "*Tests",
    "*Suite"
]
python_functions = [
    "test_*",
]
filterwarnings = [
    "ignore::pytest.PytestWarning",
    "ignore:.*U.*mode is deprecated:DeprecationWarning",
]
junit_family = "legacy"
